# Twitter Ranking Badge Chrome Extension - 설치 가이드

## 🚀 빠른 시작

### 1. 테스트 API 서버 실행
```bash
# 프로젝트 폴더에서
node test-api.js
```

서버가 `http://localhost:3000`에서 실행됩니다.

### 2. Chrome 익스텐션 설치

1. Chrome 브라우저에서 `chrome://extensions/` 접속
2. 우측 상단의 "개발자 모드" 토글 활성화
3. "압축해제된 확장 프로그램을 로드합니다" 버튼 클릭
4. 이 프로젝트 폴더 선택

### 3. 설정

1. 익스텐션 아이콘 클릭하여 팝업 열기
2. "랭킹 API URL"에 `http://localhost:3000/rankings` 입력
3. "설정 저장" 버튼 클릭

### 4. 테스트

1. 트위터(X) 웹사이트 접속: https://twitter.com
2. 프로필에 랭킹 뱃지가 표시되는지 확인
3. 테스트용 사용자명들:
   - `elonmusk` (1위)
   - `billgates` (2위)
   - `sundarpichai` (3위)
   - `satyanadella` (15위)
   - `timcook` (25위)
   - `markzuckerberg` (45위)
   - `jack` (120위)

## 🔧 상세 설정

### API 서버 설정

테스트 API 서버는 다음 엔드포인트를 제공합니다:

- `GET /rankings?username=<username>` - 특정 사용자의 랭킹 정보
- `POST /rankings` - 전체 랭킹 목록
- `GET /health` - 서버 상태 확인

### 익스텐션 설정 옵션

- **익스텐션 활성화/비활성화**: 뱃지 표시 여부
- **랭킹 API URL**: 랭킹 정보를 가져올 API 주소
- **업데이트 간격**: 랭킹 정보 갱신 주기 (30분~6시간)
- **캐시 지우기**: 저장된 랭킹 데이터 초기화
- **데이터 새로고침**: 즉시 랭킹 정보 업데이트

## 🐛 문제 해결

### 뱃지가 표시되지 않는 경우

1. **개발자 도구 확인**
   - F12 키를 눌러 개발자 도구 열기
   - Console 탭에서 에러 메시지 확인

2. **API 서버 상태 확인**
   ```bash
   curl http://localhost:3000/health
   ```

3. **익스텐션 설정 확인**
   - 익스텐션 팝업에서 API URL이 올바른지 확인
   - "데이터 새로고침" 버튼 클릭

### API 연결 실패

1. **CORS 문제**
   - 테스트 API 서버가 CORS를 지원하도록 설정되어 있음
   - 실제 API 서버도 CORS 헤더를 추가해야 함

2. **네트워크 문제**
   - 방화벽 설정 확인
   - API 서버가 실행 중인지 확인

### 트위터 UI 변경

트위터의 UI가 변경되면 선택자를 업데이트해야 할 수 있습니다:

```javascript
// content.js의 findProfileElements() 함수 수정
const selectors = [
  '[data-testid="UserName"]',
  '[data-testid="User-Name"]',
  // 새로운 선택자 추가
];
```

## 📊 랭킹 시스템

### 뱃지 색상

- **1-3위**: 🏆 금메달 (빛나는 효과)
- **4-10위**: 🥇 금메달
- **11-50위**: 🥈 은메달
- **51-100위**: 🥉 동메달
- **101위 이상**: 🏅 일반

### 랭킹 데이터 형식

```json
{
  "rank": 15,
  "score": 7500,
  "category": "technology",
  "lastUpdated": "2024-01-15T10:30:00Z"
}
```

## 🔄 업데이트

### 익스텐션 업데이트

1. 코드 수정 후 `chrome://extensions/`에서 "새로고침" 버튼 클릭
2. 트위터 페이지 새로고침

### API 서버 업데이트

1. `test-api.js` 수정
2. 서버 재시작 (Ctrl+C 후 `node test-api.js`)

## 🎯 고급 기능

### 커스텀 API 연동

자체 API 서버를 사용하려면:

1. API 서버 구현
2. 익스텐션 설정에서 API URL 변경
3. CORS 헤더 설정

### 뱃지 스타일 커스터마이징

`styles.css` 파일을 수정하여 뱃지 스타일을 변경할 수 있습니다.

### 백업 랭킹 시스템

API 실패 시 사용자명의 해시값을 기반으로 한 기본 랭킹이 제공됩니다.

## 📝 로그 확인

### 콘솔 로그

브라우저 개발자 도구 > Console에서 로그 확인:

```
Twitter Ranking Badge 익스텐션이 설치되었습니다.
랭킹 정보 가져오기 실패: ...
뱃지 추가 실패: ...
```

### 백그라운드 로그

`chrome://extensions/` > 익스텐션 세부정보 > "백그라운드 페이지 검사"에서 로그 확인

## 🚨 주의사항

- 이 익스텐션은 개발/테스트 목적으로 제작되었습니다
- 실제 서비스에 사용하려면 보안 및 성능 최적화가 필요합니다
- 트위터의 이용약관을 준수해야 합니다
- API 서버의 응답 시간에 따라 뱃지 표시가 지연될 수 있습니다 